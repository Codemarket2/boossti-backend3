{"version":3,"file":"validateEmail.js","sourceRoot":"","sources":["validateEmail.ts"],"names":[],"mappings":";;;AAAA,iCAA0B;AAC1B,kDAAkD;AAE3C,MAAM,aAAa,GAAG,KAAK,EAAE,KAAK,EAAE,EAAE;IAC3C,IAAI,SAAS,GAAG,KAAK,CAAC;IACtB,IAAI,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;QACnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,kDAAkD,EAAE;YACnF,MAAM,EAAE;gBACN,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,sBAAsB;gBAC1C,YAAY,EAAE,KAAK;aACpB;SACF,CAAC,CAAC;QACH,MAAM,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAClD,IAAI,WAAW,KAAK,MAAM,IAAI,SAAS,KAAK,MAAM,IAAI,QAAQ,KAAK,MAAM,EAAE,CAAC;YAC1E,SAAS,GAAG,IAAI,CAAC;QACnB,CAAC;IACH,CAAC;IACD,OAAO,SAAS,CAAC;AACnB,CAAC,CAAC;AAfW,QAAA,aAAa,iBAexB","sourcesContent":["import axios from 'axios';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nexport const validateEmail = async (email) => {\r\n  let validated = false;\r\n  if (EmailValidator.validate(email)) {\r\n    const { data } = await axios.get('https://emailverification.whoisxmlapi.com/api/v2', {\r\n      params: {\r\n        apiKey: process.env.EMAIL_VERIFICATION_API,\r\n        emailAddress: email,\r\n      },\r\n    });\r\n    const { formatCheck, smtpCheck, dnsCheck } = data;\r\n    if (formatCheck === 'true' && smtpCheck === 'true' && dnsCheck === 'true') {\r\n      validated = true;\r\n    }\r\n  }\r\n  return validated;\r\n};\r\n"]}