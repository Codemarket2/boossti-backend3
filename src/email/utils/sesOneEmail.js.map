{"version":3,"file":"sesOneEmail.js","sourceRoot":"","sources":["sesOneEmail.ts"],"names":[],"mappings":";;;AAAA,+BAA+B;AAE/B,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG;IACvB,KAAK,EAAE,YAAY;CACpB,CAAC;AAEF,MAAM,KAAK,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;AAS9C,MAAM,iBAAiB,GAAG,CAAC,OAAe,EAAE,EAAE;IACnD,MAAM,MAAM,GAAG;QACb,WAAW,EAAE;YACX,oBAAoB;YACpB,2CAA2C;YAC3C,WAAW,EAAE,OAAO,CAAC,EAAE;SACxB;QACD,oBAAoB,EAAE,YAAY;QAClC,OAAO,EAAE;YACP,MAAM,EAAE;gBACN,IAAI,EAAE;oBACJ,IAAI,EAAE;wBACJ,OAAO,EAAE,OAAO;wBAChB,IAAI,EAAE,OAAO,CAAC,IAAI;qBACnB;oBACD,UAAU;oBACV,sBAAsB;oBACtB,sDAAsD;oBACtD,KAAK;iBACN;gBACD,OAAO,EAAE;oBACP,OAAO,EAAE,OAAO;oBAChB,IAAI,EAAE,OAAO,CAAC,OAAO;iBACtB;aACF;YACD,cAAc;YACd,uCAAuC;YACvC,KAAK;SACN;QACD,wBAAwB;QACxB,kBAAkB;QAClB,qBAAqB;QACrB,gBAAgB,EAAE,OAAO,CAAC,IAAI;QAC9B,iBAAiB;KAClB,CAAC;IACF,OAAO,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;AAC3C,CAAC,CAAC;AApCW,QAAA,iBAAiB,qBAoC5B","sourcesContent":["import * as AWS from 'aws-sdk';\r\n\r\nAWS.config.apiVersions = {\r\n  sesv2: '2019-09-27',\r\n};\r\n\r\nconst sesv2 = new AWS.SESV2({ region: 'us-east-1' });\r\n\r\ninterface IProps {\r\n  from: string;\r\n  to: string[];\r\n  body: string;\r\n  subject: string;\r\n}\r\n\r\nexport const sendOneByOneEmail = (payload: IProps) => {\r\n  const params = {\r\n    Destination: {\r\n      // BccAddresses: [],\r\n      // CcAddresses: ['recipient3@example.com'],\r\n      ToAddresses: payload.to,\r\n    },\r\n    ConfigurationSetName: 'emailRules',\r\n    Content: {\r\n      Simple: {\r\n        Body: {\r\n          Html: {\r\n            Charset: 'UTF-8',\r\n            Data: payload.body,\r\n          },\r\n          // Text: {\r\n          //   Charset: 'UTF-8',\r\n          //   Data: 'This is the message body in text format.',\r\n          // },\r\n        },\r\n        Subject: {\r\n          Charset: 'UTF-8',\r\n          Data: payload.subject,\r\n        },\r\n      },\r\n      // Template: {\r\n      //   TemplateName: 'TestEmailTemplate',\r\n      // },\r\n    },\r\n    // ReplyToAddresses: [],\r\n    // ReturnPath: '',\r\n    // ReturnPathArn: '',\r\n    FromEmailAddress: payload.from,\r\n    // SourceArn: '',\r\n  };\r\n  return sesv2.sendEmail(params).promise();\r\n};\r\n"]}