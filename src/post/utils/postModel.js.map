{"version":3,"file":"postModel.js","sourceRoot":"","sources":["postModel.ts"],"names":[],"mappings":";;;AAAA,qCAAqC;AAErC,MAAM,SAAS,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACpC,GAAG,EAAE;QACH,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,QAAQ,EAAE,IAAI;QACd,OAAO,EAAE,eAAe;KACzB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC;KAC3B;CACF,CAAC,CAAC;AAEH,MAAM,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACrC,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE;QACL,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;QACxC,OAAO,EAAE,EAAE;KACZ;IACD,qEAAqE;IACrE,IAAI,EAAE,CAAC,SAAS,CAAC;IACjB,SAAS,EAAE;QACT,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,MAAM;KACZ;IACD,SAAS,EAAE;QACT,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,GAAG,EAAE,MAAM;KACZ;IACD,SAAS,EAAE;QACT,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KAClB;IACD,SAAS,EAAE;QACT,IAAI,EAAE,IAAI;KACX;CACF,CAAC,CAAC;AAEU,QAAA,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC","sourcesContent":["import * as mongoose from 'mongoose';\r\n\r\nconst tagSchema = new mongoose.Schema({\r\n  tag: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    required: true,\r\n    refPath: 'tags.tagModel',\r\n  },\r\n  tagModel: {\r\n    type: String,\r\n    required: true,\r\n    enum: ['Template', 'Page'],\r\n  },\r\n});\r\n\r\nconst postSchema = new mongoose.Schema({\r\n  body: String,\r\n  media: {\r\n    type: [{ url: String, caption: String }],\r\n    default: [],\r\n  },\r\n  // tags: [{ type: mongoose.Schema.Types.ObjectId, ref: 'Template' }],\r\n  tags: [tagSchema],\r\n  createdBy: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'User',\r\n  },\r\n  updatedBy: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'User',\r\n  },\r\n  createdAt: {\r\n    type: Date,\r\n    default: Date.now,\r\n  },\r\n  updatedAt: {\r\n    type: Date,\r\n  },\r\n});\r\n\r\nexport const Post = mongoose.model('Post', postSchema);\r\n"]}